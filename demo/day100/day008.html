<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Day 008 - 点击图片放大至前端</title>
  <style>
    #wrap {
      position: relative;
      margin: 0 auto;
      width: 600px;
    }

    #wrap img {
      position: relative;
      margin: 15px auto;
      width: 600px;
      cursor: zoom-in;
    }

    #bigger {
      position: fixed;
      top: 0;
      left: 0;
      overflow: scroll;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, .5);
      z-index: 9999;
      display: none;
    }

    #bigger_img {
      position: absolute;
      cursor: zoom-out;
    }
  </style>
</head>

<body>
  <div id="wrap">
    <div>
      Lorem ipsum dolor sit amet consectetur adipisicing elit. In adipisci optio quo mollitia earum quis quasi
      aspernatur porro aliquid explicabo iure, qui nihil perferendis ab nobis deserunt sit magnam, enim ut possimus
      ipsum dolorum atque? Distinctio quisquam veniam suscipit voluptas culpa pariatur fugit? Reiciendis quas
      consequuntur consequatur sequi voluptates doloribus dicta provident eveniet ipsum ullam, quasi veritatis quaerat
      excepturi, illum libero molestiae quae tenetur mollitia nihil sit harum nostrum dolorem! Quas eius repellendus
      veritatis, voluptatum illum eligendi ut temporibus quos quam architecto! Quasi non voluptatem corrupti consectetur
      saepe impedit, quidem placeat quod autem eveniet harum, excepturi tempora! A, ad officiis.
    </div>
    <img
      src="https://user-gold-cdn.xitu.io/2019/4/5/169eb5cb021f4647?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"
      alt="">
    <div>
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Laboriosam exercitationem animi, voluptatem debitis
      corporis doloribus quod id aspernatur dicta harum dignissimos deleniti odit! Ducimus corrupti dolores ab debitis,
      officiis unde tenetur natus molestias libero aliquid exercitationem, harum aspernatur. Saepe non consequuntur
      atque nobis earum molestiae qui cupiditate, hic nesciunt quaerat.
    </div>
    <img
      src="https://user-gold-cdn.xitu.io/2019/4/22/16a44f3c1af2ed7b?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"
      alt="">
    <div>
      Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ipsa voluptates quam magnam. Sint, nulla minus beatae ut
      nostrum ducimus qui adipisci aut, obcaecati, blanditiis ipsam odio. Assumenda aspernatur, eum eius recusandae unde
      magnam fugiat enim vel iure laborum dolore quibusdam asperiores veritatis quod accusantium ipsam quis quae?
      Repellat ipsam sit molestias nesciunt ipsum cum minima mollitia, incidunt, voluptates modi harum. Inventore amet
      labore modi sequi voluptate totam consequatur doloremque impedit?
    </div>
    <img src="http://pic1.win4000.com/wallpaper/4/53d8c0c4b9c6b.jpg" alt="">
    <div>
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Doloremque tempore laudantium earum minus nesciunt
      deserunt. Nihil autem ab vel alias dolore, minima placeat, aperiam at voluptas iure aspernatur doloremque, soluta
      animi! Quisquam quos atque maxime voluptatem ut cumque adipisci libero nulla nobis magnam alias blanditiis,
      nostrum accusamus nam eius aliquid et dolorum sunt dicta quam quae ratione veritatis dignissimos qui. Maiores
      nesciunt ipsum neque incidunt nostrum, consectetur nemo molestias quasi dolore minima accusamus obcaecati laborum
      nisi possimus error animi, necessitatibus inventore vero tempora at suscipit. Vel, blanditiis. Nisi, ipsum illo.
    </div>
    <img
      src="https://mondrian.mashable.com/uploads%252Fcard%252Fimage%252F952345%252F700b8135-49c3-4f92-b4df-f2e07341ccb6.jpg%252F950x534__filters%253Aquality%252890%2529.jpg?signature=_s8cVSwfaOjhhEhBiKA7Acic6z0=&source=https%3A%2F%2Fblueprint-api-production.s3.amazonaws.com"
      alt="">
  </div>

  <div id="bigger">
    <img id="bigger_img" src="" alt="">
  </div>

  <script>
    let wrapImg = Array.from(document.querySelectorAll('#wrap img'));
    let bigger = document.getElementById('bigger');
    let biggerImg = document.getElementById('bigger_img');
    let cw,
        ch,
        w,
        h;

    for (let i = 0; i < wrapImg.length; i++) {
      wrapImg[i].addEventListener('click', function (e) {
        bigger.style.display = 'block';
        biggerImg.src = this.src;
        cw = document.documentElement.clientWidth;
        ch = document.documentElement.clientHeight;
        w = parseInt(window.getComputedStyle(biggerImg).width);
        h = parseInt(window.getComputedStyle(biggerImg).height);
        biggerImg.style.left = (cw-w)/2 + 'px';
        biggerImg.style.top = (ch-h)/2 + 'px';
      }, false);
    }

    bigger.addEventListener('click', function (e) {
      bigger.style.display = 'none';
      biggerImg.src = null;
    }, false);
  </script>
</body>

</html>